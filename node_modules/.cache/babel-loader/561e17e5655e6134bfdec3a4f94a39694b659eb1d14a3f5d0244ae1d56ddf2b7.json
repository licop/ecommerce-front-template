{"ast":null,"code":"var _jsxFileName = \"/Users/licop/Documents/GitHub/ecommerce-front-template/src/component/admin/AdminRoute.tsx\";\nimport React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { isAuth } from '../../helpers/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// 受保护的路由，只有登录时才显示组件\nconst AdminRoute = _ref => {\n  let {\n    component: Component,\n    ...rest\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(Route, {\n    ...rest,\n    render: props => {\n      const auth = isAuth();\n      if (auth) {\n        const {\n          user: {\n            role\n          }\n        } = isAuth();\n        if (role === 1) return /*#__PURE__*/_jsxDEV(Component, {\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 31\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/signin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 14\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n};\n_c = AdminRoute;\nexport default AdminRoute;\nvar _c;\n$RefreshReg$(_c, \"AdminRoute\");","map":{"version":3,"names":["React","Redirect","Route","isAuth","AdminRoute","component","Component","rest","props","auth","user","role"],"sources":["/Users/licop/Documents/GitHub/ecommerce-front-template/src/component/admin/AdminRoute.tsx"],"sourcesContent":["import React, { FC } from 'react'\nimport {Redirect, Route, RouteProps} from 'react-router-dom'\nimport { isAuth } from '../../helpers/auth'\nimport { Jwt } from '../../store/models/auth'\n\ninterface AdminRouteProps extends RouteProps {\n  component: React.ComponentType<any>\n}\n// 受保护的路由，只有登录时才显示组件\nconst AdminRoute: FC<AdminRouteProps> = ({\n  component: Component,  \n  ...rest\n}) => {\n  return (\n    <Route {...rest} render={props => {\n      const auth = isAuth()\n      if(auth) {\n        const {user: { role }} = isAuth() as Jwt\n        if(role === 1) return <Component {...props} />\n        \n      }\n      return <Redirect to='/signin' />\n    }} />\n  )\n}\n\nexport default AdminRoute\n"],"mappings":";AAAA,OAAOA,KAAK,MAAc,OAAO;AACjC,SAAQC,QAAQ,EAAEC,KAAK,QAAmB,kBAAkB;AAC5D,SAASC,MAAM,QAAQ,oBAAoB;AAAA;AAM3C;AACA,MAAMC,UAA+B,GAAG,QAGlC;EAAA,IAHmC;IACvCC,SAAS,EAAEC,SAAS;IACpB,GAAGC;EACL,CAAC;EACC,oBACE,QAAC,KAAK;IAAA,GAAKA,IAAI;IAAE,MAAM,EAAEC,KAAK,IAAI;MAChC,MAAMC,IAAI,GAAGN,MAAM,EAAE;MACrB,IAAGM,IAAI,EAAE;QACP,MAAM;UAACC,IAAI,EAAE;YAAEC;UAAK;QAAC,CAAC,GAAGR,MAAM,EAAS;QACxC,IAAGQ,IAAI,KAAK,CAAC,EAAE,oBAAO,QAAC,SAAS;UAAA,GAAKH;QAAK;UAAA;UAAA;UAAA;QAAA,QAAI;MAEhD;MACA,oBAAO,QAAC,QAAQ;QAAC,EAAE,EAAC;MAAS;QAAA;QAAA;QAAA;MAAA,QAAG;IAClC;EAAE;IAAA;IAAA;IAAA;EAAA,QAAG;AAET,CAAC;AAAA,KAfKJ,UAA+B;AAiBrC,eAAeA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}